{
  "Changes": [
    {
      "LogName": "Add keg rules",
      "Action": "EditData",
      "Target": "Data/Machines",
      "Entries": {
        "(BC)Adam.Joja_Keg": {
          "OutputRules": [
            {
              "Id": "Joja Wine",
              "Triggers": [
                {
                  "Id": "ItemPlacedInMachine_Fruit",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": null,
                  "RequiredTags": [
                    "category_fruits"
                  ],
                  "RequiredCount": 1,
                  "Condition": null
                },
                {
                  "Id": "ItemPlacedInMachine_Wine",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": null,
                  "RequiredTags": [
                    "keg_wine"
                  ],
                  "RequiredCount": 1,
                  "Condition": null
                }
              ],
              "UseFirstValidOutput": false,
              "OutputItem": [
                {
                  "CustomData": null,
                  "OutputMethod": null,
                  "CopyColor": false,
                  "CopyPrice": true,
                  "CopyQuality": false,
                  "PreserveType": null,
                  "PreserveId": "DROP_IN",
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 2
                    }
                  ],
                  "PriceModifierMode": "Stack",
                  "Condition": null,
                  "Id": "(O)Adam.Joja_Wine",
                  "ItemId": "(O)Adam.Joja_Wine",
                  "RandomItemId": null,
                  "MaxItems": null,
                  "MinStack": -1,
                  "MaxStack": -1,
                  "Quality": -1,
                  "ObjectInternalName": "Joja {0} Wine",
                  "ObjectDisplayName": " Joja %PRESERVED_DISPLAY_NAME Wine ",
                  "ObjectColor": null,
                  "ToolUpgradeLevel": -1,
                  "IsRecipe": false,
                  "StackModifiers": null,
                  "StackModifierMode": "Stack",
                  "QualityModifiers": null,
                }
              ],
              "MinutesUntilReady": 4000
            },
            {
              "Id": "Wheat",
              "Triggers": [
                {
                  "Id": "Adam.Joja_Keg",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": "(O)262",
                  "RequiredCount": 1
                }
              ],
              "OutputItem": [
                {
                  "CopyPrice": true,
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 3
                    }
                  ],
                  "Id": "Joja Beer",
                  "ItemId": "(O)Adam.Joja_Beer",
                  "MinStack": -1,
                  "MaxStack": -1
                }
              ],
              "MinutesUntilReady": 800
            },
            {
              "Id": "Hops",
              "Triggers": [
                {
                  "Id": "Adam.Joja_Keg",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": "(O)304",
                  "RequiredCount": 1
                }
              ],
              "OutputItem": [
                {
                  "CopyPrice": true,
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 4
                    }
                  ],
                  "Id": "Joja Pale Ale",
                  "ItemId": "(O)Adam.Joja_PaleAle",
                  "MinStack": -1,
                  "MaxStack": -1
                }
              ],
              "MinutesUntilReady": 1000
            },
            {
              "Id": "Tea Leaves",
              "Triggers": [
                {
                  "Id": "Adam.Joja_Keg",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": "(O)815",
                  "RequiredCount": 1
                }
              ],
              "OutputItem": [
                {
                  "CopyPrice": true,
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 1.5
                    }
                  ],
                  "Id": "Joja Blue Tea",
                  "ItemId": "(O)Adam.Joja_BlueTea",
                  "MinStack": -1,
                  "MaxStack": -1
                }
              ],
              "MinutesUntilReady": 70
            },
            {
              "Id": "Coffee Beans",
              "Triggers": [
                {
                  "Id": "Adam.Joja_Keg",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": "(O)433",
                  "RequiredCount": 5
                }
              ],
              "OutputItem": [
                {
                  "CopyPrice": true,
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 1.5
                    }
                  ],
                  "Id": "Joja Coffee",
                  "ItemId": "(O)Adam.Joja_Coffee",
                  "MinStack": -1,
                  "MaxStack": -1
                }
              ],
              "MinutesUntilReady": 50
            },
            {
              "Id": "Honey",
              "Triggers": [
                {
                  "Id": "Adam.Joja_Keg",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": null,
                  "RequiredTags": [
                    "honey_item"
                  ],
                  "RequiredCount": 1
                }
              ],
              "OutputItem": [
                {
                  "CopyPrice": true,
                  "PreserveId": "DROP_IN_PRESERVE",
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 2
                    }
                  ],
                  "Id": "(O)Adam.Joja_Mead",
                  "ItemId": "(O)Adam.Joja_Mead",
                  "MinStack": -1,
                  "MaxStack": -1,
                  "ObjectInternalName": "Joja {0} Mead",
                  "ObjectDisplayName": "Joja %PRESERVED_DISPLAY_NAME Mead"
                }
              ],
              "MinutesUntilReady": 250
            },
            {
              "Id": "Rice",
              "Triggers": [
                {
                  "Id": "Adam.Joja_Keg",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": "(O)423",
                  "RequiredCount": 1
                }
              ],
              "OutputItem": [
                {
                  "CopyPrice": true,
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 0.7
                    }
                  ],
                  "Id": "Joja Vinegar",
                  "ItemId": "(O)Adam.Joja_Vinegar",
                  "MinStack": 2,
                  "MaxStack": 2
                }
              ],
              "MinutesUntilReady": 250
            },
            {
              "Id": "Joja Juice",
              "Triggers": [
                {
                  "Id": "ItemPlacedInMachine_Vegetable",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": null,
                  "RequiredTags": [
                    "category_vegetable"
                  ],
                  "RequiredCount": 1,
                  "Condition": null
                },
                {
                  "Id": "ItemPlacedInMachine_Forage",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": null,
                  "RequiredTags": [
                    "category_greens"
                  ],
                  "RequiredCount": 1,
                  "Condition": "!ITEM_CONTEXT_TAG Input edible_mushroom, ITEM_EDIBILITY Input 1"
                },
                {
                  "Id": "ItemPlacedInMachine_Juice",
                  "Trigger": "ItemPlacedInMachine",
                  "RequiredItemId": null,
                  "RequiredTags": [
                    "keg_juice"
                  ],
                  "RequiredCount": 1,
                  "Condition": null
                }
              ],
              "UseFirstValidOutput": false,
              "OutputItem": [
                {
                  "CustomData": null,
                  "OutputMethod": null,
                  "CopyColor": false,
                  "CopyPrice": true,
                  "CopyQuality": false,
                  "PreserveType": null,
                  "PreserveId": "DROP_IN",
                  "IncrementMachineParentSheetIndex": 0,
                  "PriceModifiers": [
                    {
                      "Id": "Start Price",
                      "Modification": "Multiply",
                      "Amount": 1.5
                    }
                  ],
                  "PriceModifierMode": "Stack",
                  "Condition": null,
                  "Id": "(O)Adam.Joja_Juice",
                  "ItemId": "(O)Adam.Joja_Juice",
                  "RandomItemId": null,
                  "MaxItems": null,
                  "MinStack": -1,
                  "MaxStack": -1,
                  "Quality": -1,
                  "ObjectInternalName": "{0} Juice",
                  "ObjectDisplayName": "Joja %PRESERVED_DISPLAY_NAME Juice ",
                  "ObjectColor": null,
                  "ToolUpgradeLevel": -1,
                  "IsRecipe": false,
                  "StackModifiers": null,
                  "StackModifierMode": "Stack",
                  "QualityModifiers": null,
                }
              ],
              "MinutesUntilReady": 2400
            }
          ],
          "AdditionalConsumedItems": null,
          "PreventTimePass": null,
          "ReadyTimeModifiers": null,
          "ReadyTimeModifierMode": "Stack",
          "InvalidItemMessage": null,
          "InvalidItemMessageCondition": null,
          "InvalidCountMessage": null,
          "LoadEffects": [
            {
              "Id": "Default",
              "Condition": null,
              "Sounds": [
                {
                  "Id": "Ship",
                  "Delay": 0
                },
                {
                  "Id": "bubbles",
                  "Delay": 0
                }
              ],
              "Interval": 100,
              "Frames": null,
              "ShakeDuration": -1,
              "TemporarySprites": [
                {
                  "Id": "Default",
                  "Condition": null,
                  "Texture": "TileSheets\\animations",
                  "SourceRect": {
                    "X": 256,
                    "Y": 1856,
                    "Width": 64,
                    "Height": 128
                  },
                  "Interval": 80.0,
                  "Frames": 6,
                  "Loops": 999999,
                  "PositionOffset": "0, -32",
                  "Flicker": false,
                  "Flip": false,
                  "SortOffset": 0.0,
                  "AlphaFade": 0.005,
                  "Scale": 0.25,
                  "ScaleChange": 0.0,
                  "Rotation": 0.0,
                  "RotationChange": 0.0,
                  "Color": "#bfbf00bf"
                }
              ]
            }
          ]
        }
      }
    }
  ]
}
